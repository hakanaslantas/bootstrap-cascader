{"version":3,"sources":["js/bootstrap-cascader.js"],"names":["$","DEF_OPTS","forceSelect","splitChar","cls","btnCls","placeHolder","dropUp","lazy","openOnHover","openOnHoverDelay","openOnHoverDelay4Lazy","isSelectable","item","loaded","children","length","selectable","TPLS","enHtml","value","String","replace","DropdownPanel","data","csd","setValueCallback","panel","this","selectItem","itemEl","params","call","setItemOpened","panelEl","removeClass","addClass","selectItemByCode","code","trigger","setSelected","setOpen","c","scrollToOpened","isMatchedSelectedItems","withParents","currItem","j","level","selectedItem","selectedItems","selectedItemCode","currItemData","originData","parent","find","size","scrollTop","top","position","height","destroy","removeData","remove","rePosition","lastPanel","lastPanelEl","lastPanelLeft","Number","css","left","outerWidth","handler","itemCode","loadingItem","loadData","then","refreshPanels","always","appendTo","el","panels","push","isParentAllMatched","hasMatchedChildren","each","i","itemData","itemName","name","n","attr","text","on","selectItem click","e","openDropdown","openTimeout","clearTimeout","setTimeout","fireOnInit","reloaded","isInited","reloading","Cascader","originEl","def","initialized","readonly","Array","convertData2Col","isLazy","d","childMap","hasChild","updateBtnText","btn","getValue","htmlClickHandler","hasClass","cascader","target","parents","close","setValue","opts","extend","onSetFinish","noop","names","oldSelectedItems","clearValue","updateViewByLayzData","updateViewBySelected","allMatched","join","fireInit","fireOnChange","loadDataByTreePath","panelNo","rmPanels","splice","rmPanel","off","unshift","newItems","oldItems","fire","allItemsSame","oldItem","oldItemCode","oldItemName","newItem","newItemCode","newItemName","open","isReadonly","toggleClass","slice","setReadonly","reload","items","defered","Deferred","resolve","reject","promise","openedItems","cols","insertAfter","hide","click","preventDefault","stopPropagation","fn","bsCascader","args","arguments","$this","val","split","apply","prototype","jQuery"],"mappings":"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","file":"bootstrap-cascader.min.js","sourcesContent":["(function ($) {\n  'use strict';\n\n  // DEF_OPTS\n  var DEF_OPTS = {\n    forceSelect: false,\n    splitChar: ' ',\n    cls: '',\n    btnCls: 'btn-default',\n    placeHolder: '请选择',\n    dropUp: false,\n    lazy: false,\n    openOnHover: false,\n    openOnHoverDelay: 100,\n    openOnHoverDelay4Lazy: 200,\n    isSelectable: function (item) {\n      return item && item.loaded && (!item.children || item.children.length <= 0 || item.selectable);\n    }\n  };\n\n  // TPLS\n  var TPLS = {\n    containerTpl: '<div class=\"btn-group bootstrap-cascader form-control\"></div>',\n    btnTpl: '<button class=\"btn dropdown-toggle bs-placeholder\" type=\"button\">\\\n        <span class=\"filter-option pull-left\"></span> <span class=\"caret icon-arrow-down\"></span> <span class=\"icon-cross bscascader-font icon-jiaochacross78\"></span>\\\n      </button>',\n    dropdownTpl: '<ul class=\"dropdown-menu\"></ul>',\n    dropdownItemTpl: '<li>\\\n        <a href=\"javascript:\">\\\n          <span class=\"text\"></span>\\\n          <span class=\"bscascader-font icon-ico-right-arrow item-right-arrow\"></span>\\\n          <span class=\"bscascader-font icon-loading item-loading\"></span>\\\n          <span class=\"bscascader-font icon-error\"></span>\\\n        </a>\\\n      </li>'\n  };\n\n  var enHtml = function (value) {\n    return !value ? '' : String(value).replace(/&/g, \"&amp;\").replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\n  };\n\n  // DropdownPanel\n  var DropdownPanel = function (data, csd, setValueCallback) {\n    if (!data || !data.children || data.children.length <= 0) return;\n\n    var panel = this;\n    this.selectItem = function (item, itemEl) {\n      var selectable = csd.params.isSelectable.call(csd, item);\n      if (selectable) csd.selectItem(itemEl);\n    };\n\n    this.setItemOpened = function (item, itemEl) {\n      panel.panelEl.children('li').removeClass('open');\n      itemEl.addClass('open');\n      if (item.loaded && item.children.length == 0) itemEl.addClass('no-child');\n    };\n\n    this.selectItemByCode = function (code, setValueCallback) {\n      panel.panelEl.children('li[code=' + enHtml(code) + ']').trigger('selectItem', [setValueCallback]);\n    };\n\n    this.setSelected = function (item, setOpen) {\n      var itemEl = panel.panelEl.children('li[code=' + enHtml(item.code || item.c) + ']');\n      itemEl.children('a').addClass('selected');\n      if (setOpen) panel.setItemOpened(item, itemEl);\n      panel.scrollToOpened();\n    };\n\n    this.isMatchedSelectedItems = function (item, withParents) {\n      var currItem = item;\n      for (var j = item.level - 1; j >= 0; j--) {\n        var selectedItem = csd.selectedItems[j], selectedItemCode = selectedItem.code || selectedItem.c;\n        var currItemData = currItem.originData, currItemCode = currItemData.code || currItemData.c;\n        if (selectedItemCode != currItemCode) return false;\n        if (withParents === false) return true;\n        currItem = currItem.parent;\n      }\n      return true;\n    };\n\n    this.scrollToOpened = function () {\n      var panelEl = panel.panelEl, selectedItem = panelEl.find('li.open');\n      if (selectedItem.size() <= 0) selectedItem = panelEl.find('li a.selected').parent();\n      if (selectedItem.size() > 0) {\n        var scrollTop = panelEl.scrollTop(), top = selectedItem.position().top + scrollTop;\n        if (scrollTop < top) {\n          top = top - (panelEl.height() - selectedItem.height()) / 2;\n          panelEl.scrollTop(top);\n        }\n      }\n    };\n\n    this.destroy = function () {\n      panel.panelEl.children('li').removeData('cascaderItem');\n      panel.panelEl.remove();\n    };\n\n    this.rePosition = function (lastPanel) {\n      if (!lastPanel) return;\n\n      var lastPanelEl = lastPanel.panelEl, lastPanelLeft = Number((lastPanelEl.css('left') || '').replace('px', ''));\n      panel.panelEl.css({left: lastPanelLeft + lastPanelEl.outerWidth()})\n    };\n\n    var handler = function (item, itemEl, selectItem, setValueCallback) {\n      if (csd.params.lazy && item.loaded === false) {\n        itemEl.addClass('bs-loading');\n        var itemCode = item.code || item.c;\n\n        if (panel.loadingItem) panel.loadingItem = false;\n        panel.loadingItem = itemCode;\n\n        csd.loadData(item).then(function () {\n          if (panel.loadingItem == itemCode)\n            csd.refreshPanels(item.level + 1, item, setValueCallback);\n        }, function () {\n          if (panel.loadingItem == itemCode)\n            itemEl.addClass('load-error');\n        }).always(function () {\n          if (panel.loadingItem == itemCode) {\n            panel.setItemOpened(item, itemEl);\n            panel.loadingItem = false;\n          }\n          itemEl.removeClass('bs-loading');\n        });\n      } else {\n        csd.refreshPanels(item.level + 1, item, setValueCallback);\n        panel.setItemOpened(item, itemEl);\n        if (selectItem) panel.selectItem(item, itemEl);\n      }\n    };\n\n    panel.panelEl = $(TPLS.dropdownTpl).appendTo(csd.el), panel.data = data;\n\n    // set panel position\n    var lastPanel = csd.panels[csd.panels.length - 1];\n    if (lastPanel) {\n      var lastPanelEl = lastPanel.panelEl, lastPanelLeft = Number((lastPanelEl.css('left') || '').replace('px', ''));\n      panel.panelEl.css({left: lastPanelLeft + lastPanelEl.outerWidth()})\n    }\n    csd.panels.push(panel);\n\n    // update panel style\n    if (csd.panels.length > 0) {\n      csd.el.children('.dropdown-menu').removeClass('first-child last-child');\n      csd.panels[0].panelEl.addClass('first-child');\n      csd.panels[csd.panels.length - 1].panelEl.addClass('last-child');\n    }\n\n    var isParentAllMatched = false, hasMatchedChildren = false;\n    if (csd.selectedItems.length > data.level) isParentAllMatched = panel.isMatchedSelectedItems(data);\n\n    $.each(data.children, function (i, item) {\n      var itemEl = $(TPLS.dropdownItemTpl).appendTo(panel.panelEl), itemData = item.originData;\n      var itemName = itemData.name || itemData.n, itemCode = itemData.code || itemData.c;\n      itemEl.data(\"cascaderItem\", item).attr('code', itemCode).attr('title', itemName).find('.text').text(itemName);\n\n      itemEl.on({\n        'selectItem click': function (e, setValueCallback) {\n          handler(item, itemEl, true, setValueCallback);\n        },\n        'openDropdown': function () {\n          handler(item, itemEl);\n        }\n      });\n\n      if (csd.params.openOnHover) {\n        itemEl.on('mouseover', function () {\n          if (csd.openTimeout) clearTimeout(csd.openTimeout);\n          csd.openTimeout = setTimeout(function () {\n            handler(item, itemEl);\n          }, csd.params.lazy ? csd.params.openOnHoverDelay4Lazy : csd.params.openOnHoverDelay);\n        });\n      }\n\n      if (item.loaded && (!item.children || item.children.length <= 0)) itemEl.addClass('no-child');\n\n      // update selected items view state\n      if (csd.selectedItems.length >= item.level && isParentAllMatched) {\n        if (panel.isMatchedSelectedItems(item, false)) {\n          hasMatchedChildren = true;\n          if (csd.selectedItems.length > item.level) {\n            handler(item, itemEl, false, setValueCallback);\n          } else {\n            if (csd.selectedItems.length == csd.panels.length)\n              $.each(csd.selectedItems, function (j, selectedItem) {\n                csd.panels[j].setSelected(selectedItem, j < csd.selectedItems.length - 1);\n              });\n            csd.fireOnInit(), csd.reloaded();\n            if (setValueCallback) setValueCallback(true);\n          }\n        }\n      }\n    });\n\n    if (csd.selectedItems.length > data.level && !hasMatchedChildren && csd.params.lazy) {\n      if ((!csd.isInited || csd.reloading))\n        csd.isInited ? csd.reloaded() : csd.fireOnInit();\n      if (setValueCallback) setValueCallback(false);\n    }\n  };\n\n  // Cascader\n  var Cascader = function (params, originEl) {\n    var csd = this;\n    params = params || {};\n    for (var def in DEF_OPTS) if (typeof params[def] === 'undefined') params[def] = DEF_OPTS[def];\n    csd.params = params, csd.initialized = false, csd.selectedItems = [], csd.readonly = false;\n    if (csd.params.value instanceof Array) csd.selectedItems = [];\n\n    // initBtn\n    var initBtn = function () {\n      csd.btn = $(TPLS.btnTpl).addClass(params.btnCls).click(function () {\n        csd.open();\n      }).appendTo(csd.el);\n      csd.btn.children('.icon-cross').click(function (e) {\n        if (csd.isReadonly()) return;\n        csd.clearValue(true);\n        e.preventDefault();\n        e.stopPropagation();\n      });\n      updateBtnText(params.placeHolder);\n    };\n\n    // convertData2Col\n    var convertData2Col = function (data, parent) {\n      var isLazy = csd.params.lazy;\n      $.each(data, function (i, item) {\n        var itemCode = item.code || item.c, children = item.data || item.d, itemData = parent.childMap[itemCode];\n        if (!itemData) {\n          itemData = {\n            childMap: {}, children: [], loaded: !isLazy || (children && children.length > 0) || item.hasChild === false,\n            level: parent.level + 1, parent: parent, originData: item\n          };\n          parent.children.push(itemData);\n          parent.childMap[itemCode] = itemData;\n        } else itemData.loaded = !isLazy || (children && children.length > 0) || item.hasChild === false;\n        if (children && children.length > 0) convertData2Col(children, itemData);\n      });\n    };\n\n    // updateBtnText\n    var updateBtnText = function (text) {\n      csd.btn.attr('title', text).children('.filter-option').text(text);\n      if (csd.getValue().length > 0) csd.btn.removeClass('bs-placeholder').addClass('selected');\n      else csd.btn.addClass('bs-placeholder').removeClass('selected');\n    };\n\n    // htmlClickHandler\n    var htmlClickHandler = function (e) {\n      if (!csd.el.hasClass('open')) return;\n      var cascader = $(e.target).parents('.bootstrap-cascader');\n      if (cascader.size() == 0) csd.close();\n      else if (cascader[0] != csd.el[0]) csd.close();\n    };\n\n    // setValue\n    csd.setValue = function (value, opts) {\n      opts = $.extend({onSetFinish: $.noop}, opts || {});\n      var names = [], oldSelectedItems = csd.getValue();\n      csd.clearValue();\n      if (!value || !(value instanceof Array) || value.length <= 0) {\n        opts.fireInit ? csd.fireOnInit() : csd.fireOnChange(oldSelectedItems, csd.getValue());\n        return;\n      }\n\n      if (csd.params.forceSelect) {\n        var updateViewByLayzData = function () {\n          $.each(value, function (i, item) {\n            csd.selectedItems.push({code: item.code || item.c, name: item.name || item.n});\n            names.push(item.name || item.n);\n          });\n          csd.updateViewBySelected(function (allMatched) {\n            if (allMatched) {\n              updateBtnText(names.join(csd.params.splitChar));\n            } else csd.clearValue(false);\n            opts.fireInit ? csd.fireOnInit() : csd.fireOnChange(oldSelectedItems, csd.getValue());\n            opts.onSetFinish.call(csd);\n          });\n        };\n        if (csd.params.lazy && csd.params.loadDataByTreePath) {\n          csd.loadDataByTreePath(value).then(function () {\n            updateViewByLayzData();\n          }, function () {\n            opts.fireInit ? csd.fireOnInit() : csd.fireOnChange(oldSelectedItems, csd.getValue());\n            opts.onSetFinish.call(csd);\n          });\n        } else updateViewByLayzData();\n      } else {\n        $.each(value, function (i, item) {\n          csd.selectedItems.push({code: item.code || item.c, name: item.name || item.n});\n          names.push(item.name || item.n);\n        });\n        updateBtnText(names.join(csd.params.splitChar));\n        csd.updateViewBySelected();\n        opts.fireInit ? csd.fireOnInit() : csd.fireOnChange(oldSelectedItems, csd.getValue());\n        opts.onSetFinish.call(csd);\n      }\n    };\n\n    // refreshPanels\n    csd.refreshPanels = function (panelNo, data, setValueCallback) {\n      var rmPanels = csd.panels.splice(panelNo - 1, csd.panels.length);\n      if (rmPanels) $.each(rmPanels, function (i, rmPanel) {\n        rmPanel.destroy();\n      });\n\n      new DropdownPanel(data, csd, setValueCallback);\n    };\n\n    // destroy\n    csd.destroy = function () {\n      $.each(csd.panels, function (i, panel) {\n        panel.destroy();\n      });\n      $('html').off('click', htmlClickHandler);\n      csd.params.el.removeData(\"bsCascader\");\n    };\n\n    // selectItem\n    csd.selectItem = function (itemEl) {\n      csd.el.find('li a').removeClass('selected');\n      itemEl.children('a').addClass('selected');\n      csd.el.find('li.open a').addClass('selected');\n\n      var item = itemEl.data('cascaderItem'), names = [], oldSelectedItems = csd.getValue();\n      csd.selectedItems = [];\n      while (item.parent) {\n        var itemData = item.originData, code = itemData.code || itemData.c, name = itemData.name || itemData.n;\n        csd.selectedItems.unshift({code: code, name: name});\n        names.unshift(name);\n        item = item.parent;\n      }\n\n      updateBtnText(names.join(csd.params.splitChar));\n      csd.close();\n\n      var newItems = csd.getValue();\n      csd.fireOnChange(oldSelectedItems, newItems);\n      csd.params.el.trigger('bs.cascader.select', [newItems]);\n    };\n\n    // fireOnChange\n    csd.fireOnChange = function (oldItems, newItems) {\n      var fire = true;\n      if (oldItems != newItems && oldItems.length == newItems.length) {\n        var allItemsSame = true;\n        $.each(oldItems, function (i, oldItem) {\n          var oldItemCode = oldItem.code || oldItem.c, oldItemName = oldItem.name || oldItem.n;\n          var newItem = newItems[i], newItemCode = newItem.code || newItem.c, newItemName = newItem.name || newItem.n;\n          if (oldItemCode != newItemCode || oldItemName != newItemName) {\n            allItemsSame = false;\n            return false;\n          }\n        });\n        if (allItemsSame) fire = false;\n      }\n      if (fire) csd.params.el.trigger('bs.cascader.change', [oldItems, newItems]);\n    };\n\n    // close\n    csd.close = function () {\n      csd.el.removeClass('open');\n      csd.updateViewBySelected();\n    };\n\n    // update view by selected\n    csd.updateViewBySelected = function (setValueCallback) {\n      if (csd.selectedItems.length > 0 && csd.panels.length > 0)\n        csd.panels[0].selectItemByCode(csd.selectedItems[0].code || csd.selectedItems[0].c, setValueCallback);\n    };\n\n    // open\n    csd.open = function () {\n      if (csd.isReadonly()) return;\n      csd.el.toggleClass('open');\n\n      var lastPanel;\n      $.each(csd.panels, function (i, panel) {\n        panel.rePosition(lastPanel);\n        panel.scrollToOpened();\n        lastPanel = panel;\n      });\n    };\n\n    // getValue\n    csd.getValue = function () {\n      return csd.selectedItems.slice();\n    };\n\n    // clearValue\n    csd.clearValue = function (fire) {\n      csd.selectedItems = [];\n      csd.el.find('.dropdown-menu li a').removeClass('selected');\n      updateBtnText(csd.params.placeHolder);\n\n      if (fire) csd.params.el.trigger('bs.cascader.clear');\n    };\n\n    // setReadonly\n    csd.setReadonly = function (readonly) {\n      readonly = readonly !== false;\n      csd.readonly = readonly;\n      if (readonly) {\n        csd.el.addClass('readonly');\n        csd.btn.addClass('disabled');\n      } else {\n        csd.el.removeClass('readonly');\n        csd.btn.removeClass('disabled');\n      }\n    };\n\n    // isReadonly\n    csd.isReadonly = function () {\n      return csd.readonly;\n    };\n\n    // reload\n    csd.reload = function () {\n      csd.reloading = true, csd.data = {childMap: {}, children: [], loaded: false, level: 0};\n      csd.loadData().then(function () {\n        csd.refreshPanels(1, csd.data);\n        if (csd.params.value) csd.setValue(csd.params.value);\n        if (!csd.params.lazy || !csd.params.value) csd.reloaded();\n      });\n    };\n\n    // reloaded\n    csd.reloaded = function () {\n      if (!csd.reloading) return;\n\n      csd.reloading = false;\n      csd.params.el.trigger('bs.cascader.reloaded');\n    };\n\n    // fireOnInit\n    csd.fireOnInit = function () {\n      if (csd.isInited) return;\n\n      csd.isInited = true;\n      csd.params.el.trigger('bs.cascader.inited');\n    };\n\n    // loadDataByTreePath\n    csd.loadDataByTreePath = function (items) {\n      var defered = $.Deferred();\n      csd.params.loadDataByTreePath.call(csd, items, function (data) {\n        if (data) {\n          if (data.length > 0) {\n            if (!csd.data.originData) csd.data.originData = data;\n            convertData2Col(data, csd.data);\n            csd.data.loaded = true;\n            defered.resolve(data);\n          } else defered.reject();\n        } else defered.reject();\n      });\n      return defered.promise();\n    };\n\n    // loadData\n    csd.loadData = function (item) {\n      // get opened items\n      var openedItems = [];\n      if (item) {\n        var currItem = item;\n        while (currItem.parent) {\n          openedItems.unshift(currItem.originData);\n          currItem = currItem.parent;\n        }\n      } else item = csd.data;\n\n      var defered = $.Deferred();\n      csd.params.loadData.call(csd, openedItems, function (data) {\n        if (data) {\n          if (data.length > 0) {\n            if (!openedItems || openedItems.length <= 0) csd.data.originData = data;\n            convertData2Col(data, item);\n          }\n          item.loaded = true;\n          defered.resolve(data);\n        } else defered.reject();\n      });\n      return defered.promise();\n    };\n\n    csd.data = {childMap: {}, children: [], loaded: false, level: 0}, csd.panels = [];\n    csd.cols = [], csd.el = $(TPLS.containerTpl).addClass(csd.params.cls);\n    if (csd.params.dropUp) csd.el.addClass('dropup');\n    if (csd.params.replace) {\n      csd.el.insertAfter(params.el);\n      params.el.hide();\n    } else csd.el.appendTo(params.el);\n    initBtn();\n    if (csd.params.readonly) csd.setReadonly(true);\n\n    originEl.data(\"bsCascader\", this);\n    csd.loadData().always(function () {\n      csd.refreshPanels(1, csd.data);\n      if (csd.params.value) csd.setValue(csd.params.value, {fireInit: true});\n      else csd.fireOnInit();\n    });\n\n    $('html').on('click', htmlClickHandler);\n  };\n\n  $.fn.bsCascader = function (params) {\n    var args = arguments;\n    return this.each(function () {\n      if (!this) return;\n      var $this = $(this);\n\n      var bsCascader = $this.data(\"bsCascader\");\n      if (!bsCascader && params != 'destroy') {\n        params = $.extend({\n          el: $this, value: $this.val() ? $this.val().split(params.splitChar || ' ') : ''\n        }, params);\n        bsCascader = new Cascader(params, $this);\n      }\n      if (bsCascader && typeof params === typeof \"\")\n        bsCascader[params].apply(bsCascader, Array.prototype.slice.call(args, 1));\n    });\n  }\n\n})(jQuery);\n"]}